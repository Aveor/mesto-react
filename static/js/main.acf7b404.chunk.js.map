{"version":3,"sources":["components/Header.js","context/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/EditAvatarPopup.js","components/ConfirmationPopup.js","utils/Api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","cardImgStyle","backgroundImage","card","link","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onClick","onCardClick","style","type","onCardDelete","name","onCardLike","length","Main","src","avatar","alt","onEditAvatar","about","onEditProfile","onAddPlace","cards","map","clickImages","Footer","ImagePopup","isOpen","onClose","id","PopupWithForm","formName","method","action","onSubmit","title","children","disabled","buttonSaveName","submit","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","required","placeholder","value","minLength","maxLength","onChange","target","AddPlacePopup","setLink","EditAvatarPopup","avatarRef","useRef","current","onUpdateAvatar","focus","ref","ConfirmationPopup","onDelete","isLoading","api","options","this","_url","baseUrl","_headers","headers","fetch","then","res","ok","json","Promise","reject","status","body","JSON","stringify","cardName","cardLink","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","dataImage","setDataImage","isDeleteConfirmationPopupOpen","setIsDeleteConfirmationPopupOpen","setCards","cardDelete","setCardDelete","setCurrentUser","setLoading","closeAllPopups","handleEscClose","key","handlerOverlayClick","classList","contains","all","getInfoUser","getInitialCards","user","catch","err","console","log","window","addEventListener","removeEventListener","Provider","changeLikeCardStatus","newCard","newCards","c","updateInfo","result","finally","addNewCard","updateAvatar","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.acf7b404.chunk.js","sourcesContent":["import React from 'react';\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <div className=\"header__logo\"></div>\n    </header>\n  );\n}\n\nexport default Header;","import React from 'react';\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport { CurrentUserContext } from \"../context/CurrentUserContext\";\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const cardImgStyle = {\n    backgroundImage: 'url(' + props.card.link + ')',\n  };\n  const isOwn = props.card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = (\n    `elements__delete ${isOwn ? '' : 'elements__delete_hidden'}`\n  );\n\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName = (\n    `like__button ${isLiked ? 'like__button_type_active' : ''}`\n  );\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card);\n  }\n\n  return (\n    <div key={props.card._id} className=\"elements__item\">\n      <div onClick={handleClick} className=\"elements__image\" style={cardImgStyle} />\n      <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick}></button>\n      <div className=\"elements__description\">\n        <h2 className=\"elements__title\">{props.card.name}</h2>\n        <div className=\"like\">\n          <button className={cardLikeButtonClassName} onClick={handleLikeClick} type=\"button\"></button>\n          {props.card.likes.length > 0 &&\n          <p className=\"like__sum\">\n            {props.card.likes.length}\n          </p>\n          }\n        </div>\n      </div>\n    </div>\n  );\n} \n\nexport default Card;","import React from 'react';\nimport Card from \"./Card.js\";\nimport {CurrentUserContext} from \"../context/CurrentUserContext\";\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <img className=\"profile__avatar\" src={currentUser.avatar} alt={currentUser.name} name=\"avatar\"/>\n        <div onClick={props.onEditAvatar} className=\"profile__img-edit\"></div>\n        <div className=\"profile__container\">\n          <div className=\"profile__info\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <p className=\"profile__description\">{currentUser.about}</p>\n          </div>\n          <button onClick={props.onEditProfile} className=\"profile__edit-button\" type=\"button\" ></button>\n        </div>\n        <button onClick={props.onAddPlace} className=\"profile__add-button\" type=\"button\" ></button>\n      </section>\n\n      <section className=\"elements\">{props.cards && props.cards.map((card) => (\n        <Card key={card._id} card={card} onCardClick={props.clickImages} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete}/>\n      ))}</section>\n    </main>\n  );\n}\n\nexport default Main;","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">© 2020. Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;","import React from 'react';\n\nfunction ImagePopup(props) {\n  return (\n    <section className={(props.isOpen ? \"popup popup_opened\" : \"popup\")} >\n      <div className=\"view\">\n        <button onClick={props.onClose} className=\"popup__button-close popup__button-close_view\" id=\"view-close\" type=\"reset\"></button>\n        <div className=\"view__item\">\n          <img src={props.card.link} className=\"view__image\" alt={props.card.name}/>\n          <p className=\"view__caption\">{props.card.name}</p>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default ImagePopup;","import React from 'react';\n\nfunction PopupWithForm(props) {\n  return (\n    <section className={(props.isOpen ? \"popup popup_opened\" : \"popup\")} id={props.name}>\n      <form className={`popup__container popup__container_type_${props.formName}`} name={props.name} method=\"post\" action=\"#\" onSubmit={props.onSubmit}>\n        <button onClick={props.onClose} className=\"popup__button-close\" type=\"reset\"></button>\n        <h3 className=\"popup__title\">{props.title}</h3>\n        {props.children}\n        <button className={(!props.disabled ? `popup__button-save popup__button-save_type_${props.buttonSaveName}` : \"popup__button-save popup__button-save_type_disabled\")} type=\"submit\"  disabled={props.disabled}>\n          {props.submit}\n        </button>\n      </form>\n    </section>\n  );\n}\n\nexport default PopupWithForm;","import React from 'react';\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from '../context/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {  \n    e.preventDefault();\n    props.onUpdateUser({   \n      name,\n      about: description,\n    });\n  }\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser])\n\n  return (\n    <PopupWithForm name=\"form_profile\" title='Редактировать профиль' submit='Сохранить'\n                   isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n      <input className=\"popup__input popup__input_type_name\" id=\"name-input\" type=\"text\" required\n             placeholder=\"Имя\" value={name || ''}\n             name=\"name\" minLength=\"2\" maxLength=\"40\" onChange={handleChangeName} />\n      <span className=\"popup__input-error\" id=\"name-input-error\"></span>\n      <input className=\"popup__input popup__input_type_job\" id=\"job-input\" type=\"text\" required\n             placeholder=\"О себе\" value={description || ''} \n             name=\"about\" minLength=\"2\" maxLength=\"200\" onChange={handleChangeDescription} />\n      <span className=\"popup__input-error\" id=\"job-input-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n  const [name, setName] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeLink(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {   \n    e.preventDefault();\n    props.onAddPlace({    \n      name,\n      link,\n    });\n    \n  }\n\n  return (\n    <PopupWithForm name=\"form_card\" title='Новое место' submit='Создать' isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} >\n        <input className=\"popup__input popup__input_type_place\" id=\"place-input\" type=\"text\" value={name ||''} required\n               placeholder=\"Название\" name=\"name\" minLength=\"1\" maxLength=\"30\" onChange={handleChangeName} />\n        <span className=\"popup__input-error\" id=\"place-input-error\"></span>\n        <input className=\"popup__input popup__input_type_link\" id=\"link-input\" type=\"url\" required\n               placeholder=\"Ссылка на картинку\" name=\"link\" value={link ||''} onChange={handleChangeLink}/>\n        <span className=\"popup__input-error\" id=\"link-input-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;","import React from 'react';\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from '../context/CurrentUserContext';\n\nfunction EditAvatarPopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const avatarRef = React.useRef(); \n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value, \n    });\n  }\n\n  function handleCurrentAvatar() {\n    avatarRef.current.focus(); \n  }\n\n  React.useEffect(() => {\n    avatarRef.current.value = '';\n  }, [currentUser]);\n\n  return (   \n<PopupWithForm name=\"form_avatar\" formName=\"avatar\" title='Обновить аватар' submit='Создать' isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} >\n    <input className=\"popup__input popup__input_type_avatar\" id=\"avatar-input\" type=\"url\" required\n        placeholder=\"Ссылка на аватар\" name=\"link\" onChange={handleCurrentAvatar} ref={avatarRef} />\n    <span className=\"popup__input-error\" id=\"avatar-input-error\"></span>\n</PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction ConfirmationPopup(props) {\n\n  function handleSubmit(e) {   \n    e.preventDefault();\n    props.onDelete()\n  }\n\n  return (\n    <PopupWithForm name=\"form_confirmation\" buttonSaveName=\"confirm\" formName=\"confirm\" title='Вы уверены?' submit='Да' isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} isLoading={props.isLoading}/>\n  );\n}\n\nexport default ConfirmationPopup;","class Api {\n    constructor(options) {\n      this._url = options.baseUrl;\n      this._headers = options.headers;\n    }\n  \n    getInfoUser() {\n      return fetch(`${this._url}/users/me`, {\n          headers: this._headers,\n        })\n        .then(res => {\n          if (res.ok) {\n            return res.json();\n          } else {\n            return Promise.reject(`Ошибка: ${res.status}`);\n          }\n        });\n    }\n  \n    getInitialCards() {\n      return fetch(`${this._url}/cards`, {\n          method: 'GET',\n          headers: this._headers,\n        })\n        .then(res => {\n          if (res.ok) {\n            return res.json();\n          }\n          return Promise.reject(`Ошибка: ${res.status}`); // если ошибка, отклоняем промис\n        });\n    }\n  \n    updateInfo(name, about) {\n      return fetch(`${this._url}/users/me`, {\n          method: 'PATCH',\n          headers: this._headers,\n          body: JSON.stringify({\n            name: name,\n            about: about\n          })\n        })\n        .then(res => {\n          if (res.ok) {\n            return res.json();\n          }\n          return Promise.reject(`Ошибка: ${res.status}`);\n        });\n    }\n  \n    addNewCard(cardName, cardLink) {\n      return fetch(`${this._url}/cards`, {\n          method: 'POST',\n          headers: this._headers,\n          body: JSON.stringify({\n            name: cardName,\n            link: cardLink\n          })\n        })\n        .then(res => {\n          if (res.ok) {\n            return res.json();\n          }\n          return Promise.reject(`Ошибка: ${res.status}`);\n        });\n    }\n  \n    deleteCard(id) {\n      return fetch(`${this._url}/cards/${id}`, {\n          method: 'DELETE',\n          baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-16',\n          headers: this._headers,\n        })\n        .then((res) => {\n          if (res.ok) {\n            return res.json();\n          }\n          return Promise.reject(`error${res.status}`);\n        });\n    };\n  \n    changeLikeCardStatus(id, status) {\n        return fetch(`${this._url}/cards/likes/${id}`, {\n          method: `${(status) ? 'PUT' : 'DELETE'}`,\n          headers: this._headers,\n        })\n          .then((res) => {\n            if (res.ok) {\n              return res.json();\n            }\n            return Promise.reject(`Ошибка: ${res.status}`);\n          })\n      }\n  \n    updateAvatar(link) {\n      return fetch(`${this._url}/users/me/avatar`, {\n          method: 'PATCH',\n          headers: this._headers,\n          body: JSON.stringify({\n            avatar: link\n          })\n        })\n        .then(res => {\n          if (res.ok) {\n            return res.json();\n          }\n          return Promise.reject(`Ошибка: ${res.status}`);\n        });\n    }\n  }\n  \n  const api = new Api({\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-16',\n    headers: {\n      authorization: 'af63ec2b-e6dc-434c-948a-6575ce618808',\n      'Content-Type': 'application/json'\n    }\n  });\n  \n  export default api;","import React from 'react';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\n// import PopupWithForm from './PopupWithForm.js';\nimport ImagePopup from './ImagePopup.js';\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport ConfirmationPopup from \"./ConfirmationPopup\";\nimport api from \"../utils/Api\";\nimport {CurrentUserContext} from \"../context/CurrentUserContext\";\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen]= React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(false);\n  const [dataImage, setDataImage] = React.useState({});\n  const setImage = (card) => {\n    setDataImage(card);\n    handleCardClick();\n  }\n  const [isDeleteConfirmationPopupOpen, setIsDeleteConfirmationPopupOpen] = React.useState(false);\n  const [cards, setCards] = React.useState([]);\n  const [cardDelete, setCardDelete] = React.useState({});\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [isLoading, setLoading] = React.useState(false);\n\n  React.useEffect(() => {\n\n    Promise.all([api.getInfoUser(), api.getInitialCards()]) \n      .then(([user, cards]) => {\n        setCurrentUser(user);\n        setCards(cards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick() {\n    setSelectedCard(true);\n  }\n\n  function handleDeleteClick() {\n    setIsDeleteConfirmationPopupOpen(true);\n  }\n\n  function handleCardDelete(card) {\n    setCardDelete(card);\n    handleDeleteClick();\n  }\n\n  function handleConfirmDelete(card) {\n    setLoading(true);\n    api.deleteCard(cardDelete._id).then(() => {\n      const newCards = cards.filter((c) => c._id !== cardDelete._id);\n      setCards(newCards);\n      closeAllPopups();\n    })\n      .catch((err) => {\n        console.log(err); \n      })\n      .finally(() => setLoading(false));\n    \n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    });\n  }\n\n  function handleUpdateUser(user) {\n    setLoading(true);\n    api.updateInfo(user.name, user.about).then((result) => {\n      setCurrentUser(result);\n      closeAllPopups();\n    })\n      .catch((err) => {\n        console.log(err); \n      })\n      .finally(() => setLoading(false));\n    \n  }\n\n  function handleAddPlaceSubmit(card) {\n    setLoading(true);\n    api.addNewCard(card.name, card.link).then((newCard) => {\n      setCards([newCard, ...cards]);\n      closeAllPopups();\n    })\n      .catch((err) => {\n        console.log(err); \n      })\n      .finally(() => setLoading(false));\n    \n  }\n\n  \n\n\n  function handleUpdateAvatar(user) {\n    setLoading(true);\n    api.updateAvatar(user.avatar)\n      .then((result) => {\n        setCurrentUser(result);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => setLoading(false));\n    \n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard(false);\n    setIsDeleteConfirmationPopupOpen(false);\n    setDataImage({});\n  }\n\n  function handleEscClose(e) {\n    if (e.key === 'Escape') {\n      closeAllPopups();\n    }\n  }\n\n  function handlerOverlayClick(e) {\n    if (e.target.classList.contains('popup')) {\n      closeAllPopups();\n    }\n  }\n\n  React.useEffect(() => {\n    window.addEventListener('keydown', handleEscClose);\n    window.addEventListener('mousedown', handlerOverlayClick);\n\n    return () => {\n      window.removeEventListener('mousedown', handlerOverlayClick);\n      window.removeEventListener('keydown', handleEscClose);\n    };\n  })\n  \n  return (\n  <div className=\"root__container\">\n    <CurrentUserContext.Provider value={currentUser}>\n      <Header/>\n\n        <Main onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick} clickImages={setImage} cards={cards} onCardLike={handleCardLike}\n              onCardDelete={handleCardDelete}/>\n\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}\n                          isLoading={isLoading}/>\n\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit}\n                       isLoading={isLoading}/>\n\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}\n                         isLoading={isLoading}/>\n\n        <ConfirmationPopup isOpen={isDeleteConfirmationPopupOpen} onClose={closeAllPopups}\n                           onDelete={handleConfirmDelete} isLoading={isLoading}/>\n\n      <ImagePopup isOpen={selectedCard} onClose={closeAllPopups} card={dataImage}/>\n\n      <Footer/>\n      </CurrentUserContext.Provider>\n  </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}